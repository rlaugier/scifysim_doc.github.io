

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>scifysim.observatory module &mdash; SCIFYsim 0.2.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/fonts.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="scifysim.parsefile module" href="scifysim.parsefile.html" />
    <link rel="prev" title="scifysim.n_air module" href="scifysim.n_air.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SCIFYsim
          

          
          </a>

          
            
            
              <div class="version">
                0.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scifysim.analysis.html">scifysim.analysis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.bimorph.html">scifysim.bimorph module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.combiner.html">scifysim.combiner module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.combiners.html">scifysim.combiners module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.confconverter.html">scifysim.confconverter module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.control_loop.html">scifysim.control_loop module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.correctors.html">scifysim.correctors module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.director.html">scifysim.director module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.dummy.html">scifysim.dummy module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.injection.html">scifysim.injection module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.map_manager.html">scifysim.map_manager module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.mol_dens.html">scifysim.mol_dens module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.n_air.html">scifysim.n_air module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">scifysim.observatory module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.parsefile.html">scifysim.parsefile module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.plot_tools.html">scifysim.plot_tools module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.sources.html">scifysim.sources module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.spectrograph.html">scifysim.spectrograph module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scifysim.utilities.html">scifysim.utilities module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SCIFYsim</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="git-ribbon">
  <a href="http://github.com/SwissDataScienceCenter" rel="me">Join us on GitHub</a>
</div>

        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>scifysim.observatory module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/scifysim.observatory.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-scifysim.observatory">
<span id="scifysim-observatory-module"></span><h1>scifysim.observatory module<a class="headerlink" href="#module-scifysim.observatory" title="Permalink to this headline">¶</a></h1>
<dl class="py data">
<dt class="sig sig-object py" id="scifysim.observatory.logit">
<span class="sig-prename descclassname"><span class="pre">scifysim.observatory.</span></span><span class="sig-name descname"><span class="pre">logit</span></span><em class="property"> <span class="pre">=</span> <span class="pre">&lt;Logger</span> <span class="pre">scifysim.observatory</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#scifysim.observatory.logit" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic usage:</p>
<p>import kernuller.observatory
myobs = kernuller.observatory.observatory(kernuller.VLTI)
tarnames = “Spica”
targets = [kernuller.observatory.astroplan.FixedTarget.from_name(tar) for tar in tarnames]
obstimes = myobs.build_observing_sequence()
target_positions = myobs.get_positions(targets[0], obstimes)
newarray = myobs.get_projected_array(myobs.get_positions(targets, obstimes)[0,0])</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scifysim.observatory.observatory">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scifysim.observatory.</span></span><span class="sig-name descname"><span class="pre">observatory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statlocs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_dish</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class help define the properties of the observatory infrastructure, especially the uv coverage.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.__dict__">
<span class="sig-name descname"><span class="pre">__dict__</span></span><em class="property"> <span class="pre">=</span> <span class="pre">mappingproxy({'__module__':</span> <span class="pre">'scifysim.observatory',</span> <span class="pre">'__doc__':</span> <span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">This</span> <span class="pre">class</span> <span class="pre">help</span> <span class="pre">define</span> <span class="pre">the</span> <span class="pre">properties</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">observatory</span> <span class="pre">infrastructure,</span> <span class="pre">especially</span> <span class="pre">the</span> <span class="pre">uv</span> <span class="pre">coverage.\n</span>&#160;&#160;&#160; <span class="pre">',</span> <span class="pre">'__init__':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.__init__&gt;,</span> <span class="pre">'point':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.point&gt;,</span> <span class="pre">'build_observing_sequence':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.build_observing_sequence&gt;,</span> <span class="pre">'get_positions':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.get_positions&gt;,</span> <span class="pre">'get_position':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.get_position&gt;,</span> <span class="pre">'get_projected_array':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.get_projected_array&gt;,</span> <span class="pre">'get_projected_geometric_pistons':</span> <span class="pre">&lt;function</span> <span class="pre">observatory.get_projected_geometric_pistons&gt;,</span> <span class="pre">'__dict__':</span> <span class="pre">&lt;attribute</span> <span class="pre">'__dict__'</span> <span class="pre">of</span> <span class="pre">'observatory'</span> <span class="pre">objects&gt;,</span> <span class="pre">'__weakref__':</span> <span class="pre">&lt;attribute</span> <span class="pre">'__weakref__'</span> <span class="pre">of</span> <span class="pre">'observatory'</span> <span class="pre">objects&gt;,</span> <span class="pre">'__annotations__':</span> <span class="pre">{}})</span></em><a class="headerlink" href="#scifysim.observatory.observatory.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statlocs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_dish</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>statlocs<span class="classifier">The station locations</span></dt><dd><p>(east, north) for each aperture shape is (Na, 2)</p>
</dd>
<dt>location<span class="classifier">An astropy.coordinatEarthLocation (default = Paranal)</span></dt><dd><p>example: myloc = astroplan.Observer.at_site(“Paranal”, timezone=”UTC”)</p>
</dd>
<dt>multi_dish<span class="classifier">When True, the geometry of the pupil varies depending on the relative position</span></dt><dd><p>of the target, expecially in terms of projection of the pupil on the plane
orthogonal to the line of sight.
When False, (not implemented yet) the array is expected to be always facing
the line of sight, as is the case for example with a systme like GLINT.</p>
</dd>
</dl>
<p>config    : A parsed config object.
verbose  : Activate verbosity in the log</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'scifysim.observatory'</span></em><a class="headerlink" href="#scifysim.observatory.observatory.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#scifysim.observatory.observatory.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.build_observing_sequence">
<span class="sig-name descname"><span class="pre">build_observing_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_daytime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.build_observing_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.build_observing_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the series of obstimes needed to compute the altaz positions
times : a list of UTC time strings (“2020-04-13T00:00:00”)</p>
<blockquote>
<div><p>that define an interval (if npoints is not None,
or the complete list of times (if npoints is None)</p>
</div></blockquote>
<dl class="simple">
<dt>npoints<span class="classifier">The number of samples to take on the interval</span></dt><dd><p>None means that the times is the whole list</p>
</dd>
</dl>
<p>remove_daytime : Whether to remove the points that fall during the day</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.get_position">
<span class="sig-name descname"><span class="pre">get_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_times_targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.get_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.get_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the astropy.coordinates.AltAz for a given target
target:   one or a list of of targets
obstimes: one or a list of astropy.Times to make the observations</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.get_positions">
<span class="sig-name descname"><span class="pre">get_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.get_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.get_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated</p>
<p>Returns the astropy.coordinates.AltAz for a given target
targets: A list of SkyCoord objects
obstimes: A list of astropy.Times to make the observations</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.get_projected_array">
<span class="sig-name descname"><span class="pre">get_projected_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taraltaz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PA</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.get_projected_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.get_projected_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the new coordinates for the projected array
taraltaz : the astropy.coordinates.AltAz of the target
PA       : parallactic angle to derotate
loc_array: the array of points to use (None: use self.statlocs)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.get_projected_geometric_pistons">
<span class="sig-name descname"><span class="pre">get_projected_geometric_pistons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taraltaz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.get_projected_geometric_pistons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.get_projected_geometric_pistons" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the geomtric piston resutling from the pointing
of the array.
taraltaz : the astropy.coordinates.AltAz of the target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scifysim.observatory.observatory.point">
<span class="sig-name descname"><span class="pre">point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#observatory.point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.observatory.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Points the array towards the target, updating its position angle (PA) and altaz (used for airmass).
These are later used by other methods to compute the projection of the array.</p>
<dl class="simple">
<dt>obstime<span class="classifier">The astropy.time.Time object corresponding to the moment of observation</span></dt><dd><p>(usually picked from the sequence provided by self.build_observing_sequence())</p>
</dd>
<dt>target<span class="classifier">The astroplan.FixedTarget object of interest. Usually resolved in the</span></dt><dd><p>self.build_observign_sequence() routine with astroplan.FixedTarget.from_name()</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scifysim.observatory.test_observatory">
<span class="sig-prename descclassname"><span class="pre">scifysim.observatory.</span></span><span class="sig-name descname"><span class="pre">test_observatory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tarname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Tau</span> <span class="pre">cet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['2020-10-20T00:00:00',</span> <span class="pre">'2020-10-20T10:00:00']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nblocs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scifysim/observatory.html#test_observatory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scifysim.observatory.test_observatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs some test for the core functions of observatory
tarname    : The name of the target to use
startend   : A list or tuple of two time strings inspressed in UTC matching the format:</p>
<blockquote>
<div><p>“2020-10-20T00:00:00”</p>
</div></blockquote>
<p>nblocs     : The number of observing blocs to compute</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="scifysim.parsefile.html" class="btn btn-neutral float-right" title="scifysim.parsefile module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scifysim.n_air.html" class="btn btn-neutral float-left" title="scifysim.n_air module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Romain Laugier.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>